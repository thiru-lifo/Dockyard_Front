import { WindowInterruptSource } from './windowinterruptsource';
/*
 * An interrupt source on the storage event of Window.
 */
export class StorageInterruptSource extends WindowInterruptSource {
    constructor(options = 500) {
        super('storage', options);
    }
    /*
     * Checks to see if the event should be filtered.
     * @param event - The original event object.
     * @return True if the event should be filtered (don't cause an interrupt); otherwise, false.
     */
    filterEvent(event) {
        if (event.key &&
            event.key.indexOf('ng2Idle.') >= 0 &&
            event.key.indexOf('.expiry') >= 0) {
            return false;
        }
        return true;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZWludGVycnVwdHNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2NvcmUvc3JjL2xpYi9zdG9yYWdlaW50ZXJydXB0c291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBR2hFOztHQUVHO0FBQ0gsTUFBTSxPQUFPLHNCQUF1QixTQUFRLHFCQUFxQjtJQUMvRCxZQUFZLFVBQWdELEdBQUc7UUFDN0QsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFdBQVcsQ0FBQyxLQUFtQjtRQUM3QixJQUNFLEtBQUssQ0FBQyxHQUFHO1lBQ1QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztZQUNsQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQ2pDO1lBQ0EsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2luZG93SW50ZXJydXB0U291cmNlIH0gZnJvbSAnLi93aW5kb3dpbnRlcnJ1cHRzb3VyY2UnO1xuaW1wb3J0IHsgRXZlbnRUYXJnZXRJbnRlcnJ1cHRPcHRpb25zIH0gZnJvbSAnLi9ldmVudHRhcmdldGludGVycnVwdHNvdXJjZSc7XG5cbi8qXG4gKiBBbiBpbnRlcnJ1cHQgc291cmNlIG9uIHRoZSBzdG9yYWdlIGV2ZW50IG9mIFdpbmRvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JhZ2VJbnRlcnJ1cHRTb3VyY2UgZXh0ZW5kcyBXaW5kb3dJbnRlcnJ1cHRTb3VyY2Uge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBudW1iZXIgfCBFdmVudFRhcmdldEludGVycnVwdE9wdGlvbnMgPSA1MDApIHtcbiAgICBzdXBlcignc3RvcmFnZScsIG9wdGlvbnMpO1xuICB9XG5cbiAgLypcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGUgZXZlbnQgc2hvdWxkIGJlIGZpbHRlcmVkLlxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgKiBAcmV0dXJuIFRydWUgaWYgdGhlIGV2ZW50IHNob3VsZCBiZSBmaWx0ZXJlZCAoZG9uJ3QgY2F1c2UgYW4gaW50ZXJydXB0KTsgb3RoZXJ3aXNlLCBmYWxzZS5cbiAgICovXG4gIGZpbHRlckV2ZW50KGV2ZW50OiBTdG9yYWdlRXZlbnQpOiBib29sZWFuIHtcbiAgICBpZiAoXG4gICAgICBldmVudC5rZXkgJiZcbiAgICAgIGV2ZW50LmtleS5pbmRleE9mKCduZzJJZGxlLicpID49IDAgJiZcbiAgICAgIGV2ZW50LmtleS5pbmRleE9mKCcuZXhwaXJ5JykgPj0gMFxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIl19